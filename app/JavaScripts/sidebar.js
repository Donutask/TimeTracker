"use strict";const sidebarElement=document.getElementById("sidebar"),sidebarButton=document.getElementById("open-sidebar"),sidebarList=document.getElementById("sidebar-list"),mainColumn=document.getElementById("center-column-container"),scrimElement=document.getElementById("scrim");let isSidebarOpen=!1,hasSidebarBeenCreated=!1,saveSlotElements=[],previousSaveSlot=-1;function ToggleSidebar(){isSidebarOpen?CloseSidebar():OpenSidebar()}function OpenSidebar(){hasSidebarBeenCreated||(GenerateSidebarList(),hasSidebarBeenCreated=!0),sidebarElement.style.left="0px",mainColumn.classList.add("main-column-sidebar-offset"),sidebarButton.style.position="fixed",document.body.classList.add("stop-mobile-scroll"),scrimElement.hidden=!1,isSidebarOpen=!0}function CloseSidebar(){sidebarElement.style.left="-200px",mainColumn.classList.remove("main-column-sidebar-offset"),sidebarButton.style.position="absolute",document.body.classList.remove("stop-mobile-scroll"),scrimElement.hidden=!0,isSidebarOpen=!1}function GenerateSidebarList(){if(sidebarList.textContent="",saveSlotElements=[],!(null==saveSlots||saveSlots.length<=0)){for(let e=0;e<saveSlots.length;e++){const t=saveSlots[e];if(null!=t){let s="Slot "+e;const l=t.GetTitle();null!=l&&l.length>0&&(s=l);const n=document.createElement("li"),o=document.createElement("button");o.className="save-slot-button","CLEAR CACHE"==s&&o.addEventListener("click",(function(){ClearCache(),alert("Cleared cache.")})),o.addEventListener("click",(()=>LoadSlot(e))),o.textContent=s,n.appendChild(o),sidebarList.appendChild(n),saveSlotElements.push(n)}else saveSlotElements.push(null)}UpdateSelectedSlotIndicator()}}function UpdateSelectedSlotIndicator(){if(previousSaveSlot>=0){let e=saveSlotElements[previousSaveSlot];null!=e&&e.classList.remove("selected-save-slot")}let e=saveSlotElements[currentSlot];null!=e&&e.classList.add("selected-save-slot"),previousSaveSlot=currentSlot}function DeleteCurrentSlot(){confirm("Are you sure you want to delete the current save slot?")&&DeleteCurrentSave()}CloseSidebar();